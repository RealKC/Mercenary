import "applebees.merc";

/* This function performs work */
function fizzbuzz(n) {
  let i = 1;
  let array = [];

  while (i < n) {
    let div3 = i % 3 == 0;
    let div5 = i % 5 == 0;

    if (div3 & div5) {
      do insert(array, length(array), "FizzBuzz");
    } else if (div3) {
      do insert(array, length(array), "Fizz");
    } else if (div5) {
      do insert(array, length(array), "Buzz");
    } else {
      do insert(array, length(array), i);
    }

    let i = i + 1;
  }

  return array;
}

function unused_test() {
  return null;
}

function main(argv) {
  if (length(argv) == 2) {
    let result = fizzbuzz(atoi(argv[1]));
  } else {
    let result = fizzbuzz(100);
  }

  let str = "some\'times\"this\'happens";

  let i = 1;
  while (i != length(array)) {
    do print(array[i] + "a\n\x31\fc");
    let i = i + 1
  }
}